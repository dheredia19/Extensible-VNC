
.. _api_server_8h:

Server.h
========

.. raw :: html

    <div id="method-tables">

Creates a VNC-compatible Server app for a computer you want to control.  `(more...) <#description>`_

**Data structures**

================= ==================================================================================
Modifier and Type Name and Description                                                              
================= ==================================================================================
struct            :ref:`vnc_Server_ConnectionCallback <apistructvnc___server___connection_callback>`
                                                                                                    
                  Callback receiving connection-related notifications for a Server.                 
----------------- ----------------------------------------------------------------------------------
struct            :ref:`vnc_Server_SecurityCallback <apistructvnc___server___security_callback>`    
                                                                                                    
                  Callback receiving security-related notifications for a Server.                   
----------------- ----------------------------------------------------------------------------------
struct            :ref:`vnc_Server_AgentCallback <apistructvnc___server___agent_callback>`          
                                                                                                    
                  Callback receiving agent-related notifications for a Server.                      
================= ==================================================================================


**Enums**

================= ======================================================================================
Modifier and Type Name and Description                                                                  
================= ======================================================================================
enum              :ref:`vnc_Server_CaptureMethod <api_server_8h_1a1713ecac267c0fe2579a20add35edc8a>`\   
                                                                                                        
                  Enumeration of screen capture methods.                                                
----------------- --------------------------------------------------------------------------------------
enum              :ref:`vnc_Server_Permissions <api_server_8h_1a15ec6b890e82c69cbee5ccdec0f8d53e>`\     
                                                                                                        
                  Enumeration of session permissions that can be granted to a connecting Viewer.        
----------------- --------------------------------------------------------------------------------------
enum              :ref:`vnc_Server_DisconnectFlags <api_server_8h_1acdd31d9a10547acd07adf238b31126ae>`\ 
                                                                                                        
                  Enumeration of disconnection flags.                                                   
----------------- --------------------------------------------------------------------------------------
enum              :ref:`vnc_Server_EncryptionLevel <api_server_8h_1a44822b83188aa2d269ab1280cfc12229>`\ 
                                                                                                        
                  Enumeration of encryption levels.                                                     
================= ======================================================================================


**Functions**

=============================================================================================== =====================================================================================================================================================================================================================================================================================================
Modifier and Type                                                                               Name and Description                                                                                                                                                                                                                                                                                 
=============================================================================================== =====================================================================================================================================================================================================================================================================================================
function :ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*              :ref:`vnc_Server_create <api_server_8h_1a57515472124a9601b84edd7258b8e2f8>`\ (const char \*agentPath)                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Creates a Server.                                                                                                                                                                                                                                                                                    
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*              :ref:`vnc_Server_createService <api_server_8h_1adb2e18ffff67c53201fc3500ac3fe5f1>`\ (const char \*agentPath)                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Creates a Server running as a service.                                                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function void                                                                                   :ref:`vnc_Server_destroy <api_server_8h_1a35fbe0fcee6d28804561bc44de5d38e8>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server)                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Destroys the Server.                                                                                                                                                                                                                                                                                 
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_status_t <api_common_8h_1a1f1cf3f7c00704dab3ab0197e3b19e56>`\                :ref:`vnc_Server_setConnectionCallback <api_server_8h_1a7aefb9ae42e5347501b0ca94f65418d9>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, const :ref:`vnc_Server_ConnectionCallback <apistructvnc___server___connection_callback>`\  \*callback, void \*userData)
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Sets connection-related callbacks for the Server.                                                                                                                                                                                                                                                    
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function int                                                                                    :ref:`vnc_Server_getConnectionCount <api_server_8h_1af3ad0f18171c0fbee898a25c502611f0>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server)                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Returns the total number of Viewers currently connected to the Server.                                                                                                                                                                                                                               
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_status_t <api_common_8h_1a1f1cf3f7c00704dab3ab0197e3b19e56>`\                :ref:`vnc_Server_setSecurityCallback <api_server_8h_1a4be797049ba93afecf8e8acad5558023>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, const :ref:`vnc_Server_SecurityCallback <apistructvnc___server___security_callback>`\  \*callback, void \*userData)      
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Sets security-related callbacks for the Server.                                                                                                                                                                                                                                                      
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_status_t <api_common_8h_1a1f1cf3f7c00704dab3ab0197e3b19e56>`\                :ref:`vnc_Server_setPermissions <api_server_8h_1a0a06aed54993b731bff1104cfff64e9d>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, :ref:`vnc_Connection <api_common_8h_1aabddac114c33e8e97fa2fed59edea3f9>`\  \*connection, int perms)                           
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Changes permissions for a Viewer mid-session.                                                                                                                                                                                                                                                        
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function int                                                                                    :ref:`vnc_Server_getPermissions <api_server_8h_1a2a367d63fceec9737f161ecd8cc33889>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, :ref:`vnc_Connection <api_common_8h_1aabddac114c33e8e97fa2fed59edea3f9>`\  \*connection)                                      
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Gets the set of current permissions for a Viewer.                                                                                                                                                                                                                                                    
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_status_t <api_common_8h_1a1f1cf3f7c00704dab3ab0197e3b19e56>`\                :ref:`vnc_Server_setAgentCallback <api_server_8h_1a0ccd35e8ba586096f911702dc2b08e71>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, const :ref:`vnc_Server_AgentCallback <apistructvnc___server___agent_callback>`\  \*callback, void \*userData)               
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Sets agent-related callbacks for the Server.                                                                                                                                                                                                                                                         
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_bool_t <api_common_8h_1a5e4be512ca5a7de3686b39eee1fb5e01>`\                  :ref:`vnc_Server_isAgentReady <api_server_8h_1ac4273163367d856d284dca860c94a8f0>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server)                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Determines if the ``vncagent`` process is ready and available to capture the display and inject input events.                                                                                                                                                                                        
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function void                                                                                   :ref:`vnc_Server_setFriendlyName <api_server_8h_1a51b91d80007669f59ef334c5e0cf9a0b>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, const char \*name)                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Specifies a friendly name for the Server, to send to connected Viewers.                                                                                                                                                                                                                              
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_ConnectionHandler <api_common_8h_1a941808ac633a220494ba2ea83fb83aa1>`\  \*   :ref:`vnc_Server_getConnectionHandler <api_server_8h_1a836d04b41a94bf6d4bef6e3bbb39f755>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server)                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Obtains the Server's :ref:`vnc_ConnectionHandler <api_common_8h_1a941808ac633a220494ba2ea83fb83aa1>`\  for performing connection operations.                                                                                                                                                         
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_status_t <api_common_8h_1a1f1cf3f7c00704dab3ab0197e3b19e56>`\                :ref:`vnc_Server_setCaptureMethod <api_server_8h_1a1edb515b12cf5322fe1af187d621265a>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, :ref:`vnc_Server_CaptureMethod <api_server_8h_1a1713ecac267c0fe2579a20add35edc8a>`\  captureMethod)                         
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Specifies the screen capture method used by the Server.                                                                                                                                                                                                                                              
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function const char \*                                                                          :ref:`vnc_Server_getPeerAddress <api_server_8h_1a82e36907b66e62f5e59a01b6131896b1>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, :ref:`vnc_Connection <api_common_8h_1aabddac114c33e8e97fa2fed59edea3f9>`\  \*connection)                                      
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Returns the address of a particular connected Viewer.                                                                                                                                                                                                                                                
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function void                                                                                   :ref:`vnc_Server_disconnect <api_server_8h_1a36ad296dc04f07abe2c31729ac12e519>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, :ref:`vnc_Connection <api_common_8h_1aabddac114c33e8e97fa2fed59edea3f9>`\  \*connection, const char \*message, int flags)         
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Disconnects a particular Viewer, optionally specifying a message.                                                                                                                                                                                                                                    
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function void                                                                                   :ref:`vnc_Server_disconnectAll <api_server_8h_1a5c6b11f966dadae62775dc9ad4cf9ae2>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, const char \*message, int flags)                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Disconnects all Viewers, optionally specifying a message.                                                                                                                                                                                                                                            
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_status_t <api_common_8h_1a1f1cf3f7c00704dab3ab0197e3b19e56>`\                :ref:`vnc_Server_setBlacklist <api_server_8h_1a64686a5928fed2d32021b231931db124>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, int threshold, int timeout)                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Specifies a blacklist threshold and timeout for the Server.                                                                                                                                                                                                                                          
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function void                                                                                   :ref:`vnc_Server_serviceControlHandlerEx <api_server_8h_1a8be3e93f0ed0ba27ef0e4b39bbc9890c>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, int dwControl, int dwEventType, void \*lpEventData)                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Handles a Windows Service control event.                                                                                                                                                                                                                                                             
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_AnnotationManager <api_common_8h_1aabb5454b12af0904dd5a2e3e2634ae70>`\  \*   :ref:`vnc_Server_getAnnotationManager <api_server_8h_1a3f2e75773d1ba5fbefbc916badf3c627>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server)                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Obtains the Server's :ref:`vnc_AnnotationManager <api_common_8h_1aabb5454b12af0904dd5a2e3e2634ae70>`\  for handling annotation operations.                                                                                                                                                           
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_MessagingManager <api_common_8h_1a33e3238ee6548adbc273f30e371358c2>`\  \*    :ref:`vnc_Server_getMessagingManager <api_server_8h_1ab46e63128cc80419cd6a86c4b754184d>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server)                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Obtains the Server's :ref:`vnc_MessagingManager <api_common_8h_1a33e3238ee6548adbc273f30e371358c2>`\  for handling messaging.                                                                                                                                                                        
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_DisplayManager <api_common_8h_1a647695bf16b96ebb7ca6d85188d81570>`\  \*      :ref:`vnc_Server_getDisplayManager <api_server_8h_1a4ecc803c9d2ecf00b87cc91f6ebb41cc>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server)                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Obtains the Server's :ref:`vnc_DisplayManager <api_common_8h_1a647695bf16b96ebb7ca6d85188d81570>`\ , for managing the list of displays made available by the Server.                                                                                                                                 
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_status_t <api_common_8h_1a1f1cf3f7c00704dab3ab0197e3b19e56>`\                :ref:`vnc_Server_setEncryptionLevel <api_server_8h_1a731592d7d059940d16d7c20719db4603>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, :ref:`vnc_Server_EncryptionLevel <api_server_8h_1a44822b83188aa2d269ab1280cfc12229>`\  level)                             
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Sets the desired encryption level of the session from the range of options enumerated by :ref:`vnc_Server_EncryptionLevel <api_server_8h_1a44822b83188aa2d269ab1280cfc12229>`\ .                                                                                                                     
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_Server_EncryptionLevel <api_server_8h_1a44822b83188aa2d269ab1280cfc12229>`\  :ref:`vnc_Server_getEncryptionLevel <api_server_8h_1a34194573e49c833e26183eb1f5474302>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, :ref:`vnc_Connection <api_common_8h_1aabddac114c33e8e97fa2fed59edea3f9>`\  \*connection)                                  
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Returns the encryption level being used with an incoming connection, or the Server's current encryption level if the connection is NULL.                                                                                                                                                             
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function :ref:`vnc_status_t <api_common_8h_1a1f1cf3f7c00704dab3ab0197e3b19e56>`\                :ref:`vnc_Server_setIdleTimeout <api_server_8h_1ad32599cac7bb540f785c94c003513162>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server, int idleTimeout)                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Sets the number of seconds to wait before disconnecting idle Viewers.                                                                                                                                                                                                                                
----------------------------------------------------------------------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function int                                                                                    :ref:`vnc_Server_getIdleTimeout <api_server_8h_1aefc3e7e1ddf395f669f8d91db05fdeaf>`\ (:ref:`vnc_Server <api_common_8h_1a2c04cec2b792871183e7ea734132a5ee>`\  \*server)                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                Gets the current number of seconds to wait before disconnecting idle Viewers.                                                                                                                                                                                                                        
=============================================================================================== =====================================================================================================================================================================================================================================================================================================


.. raw :: html

    </div><a id="description"></a>

**Detailed description**

.. doxygenfile:: Server.h
   :project: api
